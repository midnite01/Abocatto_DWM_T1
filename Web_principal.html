<!doctype html>
<html lang="es">
<head> <!--Aqui van configuraciones generales, enlaces a librerias, estilos globales, metadatos. Es como la bodega de planos-->
  <meta charset="utf-8" /> <!--hace que exista la "帽" y las tildes, sin que la wea crache-->
  <meta name="viewport" content="width=device-width, initial-scale=1" /> <!--Resposividad para celulares-->
  <title>Bocatto | Pedir</title> <!--Titulo de la pagina, lo que se ve en la barra de busqueda, despues del www.-->

  <!-- Importamos Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Importamos Bootstrap Icons (para iconitos tipo carrito, login, etc.) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

  <!-- Importamos Google Font para estilos de letra, lo ocuparemosel navbar -->
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@500&display=swap" rel="stylesheet">

  <!--"<style>" son bloques en los que se puede escribir en CSS, aqui solo lo hacemos con estas estrcuturas, porque bootstrap no las tiene por defecto-->
  <style>
    /* Personalizaci贸n del navbar */
    .navbar {
      font-family: 'Oswald', sans-serif; /* Fuente solo para navbar */
      font-size: 1.1rem; /* Texto un poquito m谩s grande */
    }
    /* Fondo general de la p谩gina */
    body {
      background-color: #111;  /* negro suave */
      color: #f7f7f7;          /* texto claro */
    }
    /* ===== Carrusel ===== */
    #heroCarousel img {
      height: 450px;         /* altura moderada */
      object-fit: cover;     /* ajusta la imagen sin deformarla */
    }

    /* ... tus estilos anteriores ... */

    /* FIX: Hacer que las etiquetas del formulario (Nombre, RUT, etc.) sean casi blancas */
    .modal-body .text-muted {
        color: #e0e0e0 !important; /* Gris muy claro, casi blanco */
    }
    
    /* FIX: Asegurar que lo que escribes dentro de los inputs tambi茅n sea blanco */
    .form-control {
        color: #ffffff !important; 
    }
    
    /* FIX: Color del placeholder (el texto de ayuda dentro del input) */
    .form-control::placeholder {
        color: #999999 !important;
        opacity: 1;
    }
  </style>
</head>

<!--Aqui se empiesan a armas las estrcuturas-->
<body>

<!-- =================== NAVBAR SUPERIOR =================== -->

<nav id="navbarPrincipal" class="navbar navbar-expand-lg navbar-light bg-warning px-3">
  <div class="container-fluid">

<!-- Logo de la paguina -->
    <a id="logoAbocatto" class="navbar-brand d-flex align-items-center" href="Web_principal.html">
      <img src="Recursos_Esteticos/img/logo.png" alt="Bocatto" width="40" height="40" class="me-2">
      <span class="fw-bold">Bocatto</span>
    </a>

<!--Estructura/Boton que vuelve respnsivo al resto de botones del nav-->
    <button id="btn-resp-mov" class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent">
      <span class="navbar-toggler-icon"></span>
    </button>

<!-- Botones centrales del nav o campos colapsables en movil-->
    <div class="collapse navbar-collapse justify-content-center" id="navbarContent">
      <ul class="navbar-nav mb-2 mb-lg-0 gap-3">

        <li class="nav-item">
          <a id="btn-menu" class="nav-link" href="Menu.html"> <!--Link al menu-->
            <i class="bi bi-pizza"></i> Men煤
          </a>
        </li>

        <li class="nav-item">
          <a id="btn-promos" class="nav-link" href="#promos">
            <i class="bi bi-fire"></i> Promos <!--  icono de promos -->
          </a>
        </li>

        <li class="nav-item">
          <a id="btn-conocenos" class="nav-link" href="#locales">
            <i class="bi bi-geo-alt"></i> Locales y horarios <!--  icono de ubicaci贸n -->
          </a>
        </li>

      </ul>
    </div>

<!-- Botones a la derecha -->
  <div class="d-flex gap-3">

    <button class="btn btn-outline-dark" id="btn-login" data-bs-toggle="modal" data-bs-target="#loginModal">
      <i class="bi bi-box-arrow-in-right"></i> Iniciar sesi贸n
    </button>

    <button class="btn btn-dark" id="btn-pedidos" hidden>
      <i class="bi bi-bag"></i> Tus pedidos
    </button>

    <button class="btn btn-warning position-relative" id="btn-carrito" hidden 
      data-bs-toggle="offcanvas" data-bs-target="#offcanvasCarrito" aria-controls="offcanvasCarrito">
      <i class="bi bi-cart"></i>
        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger" 
          id="carr-cont" hidden>
          0
        </span>
    </button>

      <button class="btn btn-danger" id="btn-admin" hidden>
        <i class="bi bi-gear-fill"></i> Panel Admin
      </button>

      <button class="btn btn-secondary" id="btn-logout" hidden>
        <i class="bi bi-box-arrow-right"></i> Cerrar sesi贸n
      </button>
    </div>
  </div> 
  </div> 
</nav> 

<!--
1.-id [navbarPrincipal] = Contenedor principal del navbar
2.-id [logoAbocatto] = Logo y nombre de la p谩gina
3.-id [btn-resp-mov] = Bot贸n para colapsar/expandir el men煤 en m贸viles
4.-id [navbarContent] = Contenedor de los enlaces del navbar/men煤/promos/conocenos/botones centrales
5.-id [btn-menu] = Bot贸n para ir al men煤
6.-id [btn-promos] = Bot贸n para ir a las promociones
7.-id [btn-conocenos] = Bot贸n para ir a locales y horarios
8.-id [btn-login] = Bot贸n para abrir el modal de login
9.-id [btn-pedidos] = Bot贸n para ver los pedidos del usuario
10.-id [btn-carrito] = Bot贸n para abrir el carrito de compras
11.-id [carr-cont] = Contador de items en el carrito
12.-id [btn-admin] = Bot贸n para abrir el panel de administraci贸n
13.-id [btn-logout] = Bot贸n para cerrar sesi贸n
--> 

<!-- =================== MODAL LOGIN =================== -->

<!--Head del modal, caracteristicas generaes/ titulo/ boton de cierre-->
<div class="modal fade" id="loginModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered"> <!-- modal m谩s ancho -->
    <div class="modal-content bg-dark text-light rounded-4">
      <div class="modal-header border-0">
        <h5 class="modal-title">Acceso a Bocatto</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>

<!--Body del modal-->
      <div class="modal-body">
        <div class="row">
          
<!-- Columna para crear una cuenta  -->
          <div class="col-md-6 border-end">
            <h6 class="fw-bold mb-3">驴Nuevo aqu铆?</h6>
            <p class="small">Crea una cuenta para acceder a promociones y seguimiento de pedidos.</p>
              <button type="button" class="btn btn-outline-warning w-100" id="btn-registrarse">
                Crear cuenta
              </button>
          </div>

<!-- Columna para Iniciar sesi贸n -->
          <div class="col-md-6">
            <h6 class="fw-bold mb-3">驴Ya tienes cuenta?</h6>
            <form id="form-logearse"> <!-- Form = formulario -->
              <div class="mb-3">
                <label for="login-Email" class="form-label">Correo electr贸nico</label>
                <input type="email" class="form-control" id="login-Email" required>
              </div>
              <div class="mb-3">
                <label for="login-contrase帽a" class="form-label">Contrase帽a</label>
                <input type="password" class="form-control" id="login-contrase帽a" required>
              </div>
              <button type="submit" class="btn btn-warning w-100">Iniciar sesi贸n</button>
            </form>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>

<!--
1.-id [loginModal] = contenedor principal del modal de login
2.-id [btn-registrarse] =  boton para crear una cuenta 
3.-id [form-logearse] = bloque formulario para iniciar sesi贸n
4.-id [login-Email] = boton de ingreso de email
5.-id [login-contrase帽a] = boton de ingreso de contrase帽a
-->



<!--=========================== MODAL DE REGISTRO DE USUARIO ================-->

<div class="modal fade" id="registroModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content bg-dark text-light rounded-4 border-secondary">
      
      <div class="modal-header border-0">
        <h5 class="modal-title fw-bold text-warning">Crear Cuenta Nueva</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>

      <div class="modal-body">
        <form id="form-registro-completo">
          <div class="row g-3">
            
            <div class="col-md-6 border-end border-secondary pe-md-4">
              <h6 class="text-warning mb-3"><i class="bi bi-person-vcard"></i> Datos Personales</h6>
              
              <div class="mb-2">
                <label class="form-label small text-muted">Nombre Completo</label>
                <input type="text" class="form-control bg-dark text-white border-secondary" id="reg-nombre" required>
              </div>

              <div class="row g-2 mb-2">
                <div class="col-6">
                  <label class="form-label small text-muted">RUT</label>
                  <input type="text" class="form-control bg-dark text-white border-secondary" id="reg-run" placeholder="12.345.678-9" required>
                </div>
                <div class="col-6">
                  <label class="form-label small text-muted">Sexo</label>
                  <select class="form-select bg-dark text-white border-secondary" id="reg-sexo">
                    <option value="prefiero_no_decir">Prefiero no decir</option>
                    <option value="masculino">Masculino</option>
                    <option value="femenino">Femenino</option>
                    <option value="otro">Otro</option>
                  </select>
                </div>
              </div>

              <div class="mb-2">
                <label class="form-label small text-muted">Fecha de Nacimiento</label>
                <input type="date" class="form-control bg-dark text-white border-secondary" id="reg-fecha" required>
              </div>
            </div>

            <div class="col-md-6 ps-md-4">
              <h6 class="text-warning mb-3"><i class="bi bi-geo-alt"></i> Contacto y Ubicaci贸n</h6>

              <div class="mb-2">
                <label class="form-label small text-muted">Correo Electr贸nico</label>
                <input type="email" class="form-control bg-dark text-white border-secondary" id="reg-email" required>
              </div>

              <div class="row g-2 mb-2">
                <div class="col-6">
                  <label class="form-label small text-muted">Tel茅fono</label>
                  <input type="tel" class="form-control bg-dark text-white border-secondary" id="reg-telefono" placeholder="+569..." required>
                </div>
                <div class="col-6">
                  <label class="form-label small text-muted">Contrase帽a</label>
                  <input type="password" class="form-control bg-dark text-white border-secondary" id="reg-pass" required minlength="6">
                </div>
              </div>

              <div class="mb-2">
                <label class="form-label small text-muted">Direcci贸n (Calle y N煤mero)</label>
                <input type="text" class="form-control bg-dark text-white border-secondary" id="reg-direccion" required>
              </div>

              <div class="row g-2">
                <div class="col-4">
                  <input type="text" class="form-control bg-dark text-white border-secondary" id="reg-comuna" placeholder="Comuna" required>
                </div>
                <div class="col-4">
                  <input type="text" class="form-control bg-dark text-white border-secondary" id="reg-provincia" placeholder="Provincia" required>
                </div>
                <div class="col-4">
                  <input type="text" class="form-control bg-dark text-white border-secondary" id="reg-region" placeholder="Regi贸n" required>
                </div>
              </div>

            </div>
          </div>

          <div class="mt-4 d-flex justify-content-between align-items-center">
            <button type="button" class="btn btn-outline-light" id="btn-volver-login">
              <i class="bi bi-arrow-left"></i> Volver
            </button>
            <button type="submit" class="btn btn-warning fw-bold px-5">
              Registrarme
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- =================== CARRITO DE COMPRAS - OFFCANVAS  =================== -->

<div class="offcanvas offcanvas-end bg-dark text-light" tabindex="-1" id="offcanvasCarrito" aria-labelledby="offcanvasCarritoLabel">
<!--El header del carrito-->
  <div class="offcanvas-header border-bottom">
    <h5 class="offcanvas-title fw-bold" id="offcanvasCarritoLabel" style="color:#e6b800;">Tu carrito</h5>
    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Cerrar"></button>
  </div>
<!--El body del carrito-->
    <div class="offcanvas-body d-flex flex-column">
      <div id="carrito-items" class="flex-grow-1">
        <p class="text-center text-muted mt-5" id="carrito-vacio">Tu carrito est谩 vac铆o</p>
    </div>
<!--footer del carrito-->
    <div class="border-top pt-3">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h5 class="fw-bold" style="color:#e6b800;">Subtotal</h5>
        <h5 id="carrito-total" class="fw-bold">$0</h5>
    </div>

    <div class="d-grid gap-2">
      <button class="btn btn-outline-light fw-bold" id="btn-vaciar">Vaciar carrito</button>
      <a id="btn-hacer-pedido" class="btn btn-danger fw-bold">Hacer pedido</a>
    </div>

      </div>
      </div>
</div>

<!-- 

1.- id [offcanvasCarrito] - Contenedor principal del carrito 
2.- id [offcanvasCarritoLabel] - T铆tulo del carrito
3.- id [carrito-items] - Contenedor de los productos en el carrito
4.- id [carrito-vacio] - Mensaje cuando el carrito est谩 vac铆o
5.- id [carrito-total] - Muestra el total del carrito
6.- id [btn-vaciar] - Bot贸n para vaciar el carrito
7.- id [btn-hacer-pedido] - Bot贸n para proceder con el pedido

-->


<!-- =================== CARRUSEL HERO =================== -->

<div id="heroCarousel" class="carousel slide mb-4" data-bs-ride="carousel">

<!-- Indicadores (puntitos de abajo) -->
  <div class="carousel-indicators">
    <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="0" class="active"></button>
    <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="1"></button>
    <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="2"></button>
  </div>

<!-- Las imagenes del carrusel -->
  <div class="carousel-inner">

<!-- imagen 1-->
    <div class="carousel-item active">
      <img src="Recursos_Esteticos/img/hero1.jpg" class="d-block w-100" alt="Promo 1">
      <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded p-2">
        <h5>隆Pepperoni a precio vecino!</h5>
        <p>Solo por hoy. Pide y retira en tienda.</p>
        <a href="#promos" class="btn btn-danger">Ver promos</a>
      </div>
    </div>

<!-- imagen 2 -->
    <div class="carousel-item">
      <img src="Recursos_Esteticos/img/hero2.jpg" class="d-block w-100" alt="Promo 2">
      <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded p-2">
        <h5>Nuevo Panini Caprese</h5>
        <p>Mozzarella, tomate, pesto y albahaca.</p>
        <a href="#menu" class="btn btn-danger">Ir al men煤</a>
      </div>
    </div>

<!-- imagen 3 -->
    <div class="carousel-item">
      <img src="Recursos_Esteticos/img/hero3.jpg" class="d-block w-100" alt="Promo 3">
      <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded p-2">
        <h5>Combo Baguette + Bebida</h5>
        <p>Para llevar y compartir.</p>
        <a href="#promos" class="btn btn-danger">Aprovechar</a>
      </div>
    </div>

  </div>

  <!-- Controles de las flechas -->
  <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
    <span class="carousel-control-prev-icon"></span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
    <span class="carousel-control-next-icon"></span>
  </button>
</div>

<!-- =================== SECCIN PROMOCIONES =================== -->
<section id="promos" class="container-fluid my-5">

  <!-- T铆tulo de la secci贸n -->
  <h2 class="text-start fw-bold" style="color:#e6b800; font-family:'Oswald', sans-serif;">
    PROMOCIONES
  </h2>

  <!-- Grid para cards - SE LLENAR DINMICAMENTE -->
  <div id="contenedor-promos" class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-5 g-4 mt-3">
    
    <!-- EJEMPLO: Card de la promo 1 (esto ser谩 generado por JavaScript) -->
    <div class="col" data-producto-id="1" data-categoria="promos">
      <div class="card h-100 rounded-4">
        
        <!-- Imagen de la card -->
        <div class="card-img-top bg-dark rounded-top-4" 
             style="height:180px; background:url('Recursos_Esteticos/img/producto1.jpg') center/cover;">
        </div>

        <!-- Cuerpo de la card -->
        <div class="card-body text-center" style="background-color:#e6b800; border-radius:0 0 1rem 1rem;">
          <h5 class="card-title fw-bold text-dark">Producto 1</h5>
          <p class="card-text text-dark">Descripci贸n del producto</p>
          <p class="fw-bold text-dark">$4.990</p>
          
          <!-- Bot贸n AGREGAR AL CARRITO -->
          <button class="btn btn-light text-dark fw-bold btn-agregar-carrito"
                  data-producto-id="1"
                  data-nombre="Producto 1"
                  data-precio="4990"
                  data-imagen="Recursos_Esteticos/img/producto1.jpg">
            Agregar al carrito
          </button>

          <!-- Botones ADMIN (ocultos por defecto) -->
          <div class="admin-actions mt-2 justify-content-center gap-2" data-visible-role="admin" style="display: none;">
            <button class="btn btn-sm btn-outline-light btn-editar-producto"
                    data-producto-id="1">
              Editar
            </button>
            <button class="btn btn-sm btn-outline-danger btn-eliminar-producto"
                    data-producto-id="1">
              Eliminar
            </button>
          </div>
        </div> <!-- cierra card-body -->
      </div> <!-- cierra card -->
    </div> <!-- cierra col -->
    
    <!-- MS CARDS SE AGREGARN AQU DINMICAMENTE -->
    
  </div> <!-- cierra row -->

  <!-- Bot贸n para agregar productos (solo para admin) - FUERA del grid -->
  <div class="text-center my-4" id="btn-agre-prod" style="display: none;">
    <button class="btn btn-outline-danger" 
            id="btn-mostrar-modal-agregar"
            data-bs-toggle="modal" 
            data-bs-target="#modalAddProduct" 
            data-category="promos">
      <i class="bi bi-plus-circle"></i> Agregar producto promocional
    </button>
  </div>

</section> <!-- cierra section -->



<!-- ============= MODAL GENERICO PARA AGREGAR/EDITAR PRODUCTOS =========================-->
<div class="modal fade" id="modalAddProduct" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content bg-dark text-light rounded-4">
      
      <!-- Header del modal -->
      <div class="modal-header border-0">
        <h5 class="modal-title" id="modalProductTitle">Agregar producto</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>
      
      <!-- Body del modal -->
      <div class="modal-body">
        <form id="productForm">
          
          <!-- Campos ocultos para estado del modal -->
          <input type="hidden" id="productCategory" value="">
          <input type="hidden" id="productId" value="">
          <!-- NOTA: editIndex fue eliminado - ahora usamos productId -->
          
          <!-- Campo: Nombre del producto -->
          <div class="mb-3">
            <label for="productName" class="form-label">Nombre del producto</label>
            <input type="text" class="form-control" id="productName" required>
          </div>
          
          <!-- Campo: Descripci贸n -->
          <div class="mb-3">
            <label for="productDesc" class="form-label">Descripci贸n</label>
            <textarea class="form-control" id="productDesc" rows="2" required></textarea>
          </div>
          
          <!-- Campo: Precio -->
          <div class="mb-3">
            <label for="productPrice" class="form-label">Precio</label>
            <input type="number" class="form-control" id="productPrice" min="0" step="100" required>
          </div>
          
          <!-- Campo: Imagen -->
          <div class="mb-3">
            <label for="productImg" class="form-label">Foto (URL por ahora)</label>
            <input type="text" class="form-control" id="productImg" placeholder="Recursos_Esteticos/img/producto.jpg">
          </div>
          
          <!-- Bot贸n Guardar con estados de loading -->
          <button type="submit" class="btn btn-warning fw-bold w-100" id="btn-guardar-producto">
            <span id="texto-btn-guardar">Guardar</span>
            <div id="spinner-guardar" class="spinner-border spinner-border-sm" style="display: none;"></div>
          </button>
          
        </form>
      </div>
    </div>
  </div>
</div>
<!--
1.- id=[modalAddProduct]
2.- id=[modalProductTitle]
3.- id=[productForm]
4.- id=[productCategory]
5.- id=[productId]
6.- id=[productName]
7.- id=[productDesc]
8.- id=[productPrice]
9.- id=[productImg]
10.- id=[btn-guardar-producto]
11.- id=[texto-btn-guardar]
12.- id=[spinner-guardar]
-->





  <!-- Bootstrap JS (para que funcione el carrusel y el navbar en m贸viles) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script src="js/app.js?v=4" defer></script>

</body>
</html>