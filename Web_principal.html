<!doctype html>
<html lang="es">
<head> <!--Aqui van configuraciones generales, enlaces a librerias, estilos globales, metadatos. Es como la bodega de planos-->
  <meta charset="utf-8" /> <!--hace que exista la "帽" y las tildes, sin que la wea crache-->
  <meta name="viewport" content="width=device-width, initial-scale=1" /> <!--Resposividad para celulares-->
  <title>Bocatto | Pedir</title> <!--Titulo de la pagina, lo que se ve en la barra de busqueda, despues del www.-->

  <!-- Importamos Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Importamos Bootstrap Icons (para iconitos tipo carrito, login, etc.) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

  <!-- Importamos Google Font para estilos de letra, lo ocuparemosel navbar -->
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@500&display=swap" rel="stylesheet">

  <!--"<style>" son bloques en los que se puede escribir en CSS, aqui solo lo hacemos con estas estrcuturas, porque bootstrap no las tiene por defecto-->
  <style>
    /* Personalizaci贸n del navbar */
    .navbar {
      font-family: 'Oswald', sans-serif; /* Fuente solo para navbar */
      font-size: 1.1rem; /* Texto un poquito m谩s grande */
    }
    /* Fondo general de la p谩gina */
    body {
      background-color: #111;  /* negro suave */
      color: #f7f7f7;          /* texto claro */
    }
    /* ===== Carrusel ===== */
    #heroCarousel img {
      height: 450px;         /* altura moderada */
      object-fit: cover;     /* ajusta la imagen sin deformarla */
    }
  </style>
</head>

<!--Aqui se empiesan a armas las estrcuturas-->
<body>

<!-- =================== NAVBAR SUPERIOR =================== -->

<nav class="navbar navbar-expand-lg navbar-light bg-warning px-3">
  <div class="container-fluid">

    <!-- Logo + Nombre -->
    <a class="navbar-brand d-flex align-items-center" href="Web_principal.html">
      <img src="Recursos_Esteticos/img/logo.png" alt="Bocatto" width="40" height="40" class="me-2">
      <span class="fw-bold">Bocatto</span>
    </a>
    <!-- Bot贸n para men煤 hamburguesa en m贸viles -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Contenido colapsable -->
    <div class="collapse navbar-collapse justify-content-center" id="navbarContent">
      <ul class="navbar-nav mb-2 mb-lg-0 gap-3">
        <li class="nav-item">
          <a class="nav-link" href="Menu.html"> <!--Link al menu-->
        <i class="bi bi-pizza"></i> Men煤
        </a>

        </li>
        <li class="nav-item">
          <a class="nav-link" href="#promos">
            <i class="bi bi-fire"></i> Promos <!--  icono de promos -->
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#locales">
            <i class="bi bi-geo-alt"></i> Locales y horarios <!--  icono de ubicaci贸n -->
          </a>
        </li>
      </ul>
    </div>

    <!-- Botones a la derecha -->
    <div class="d-flex gap-2">
      <!-- Bot贸n login -->
      <button class="btn btn-outline-dark" id="btn-login" data-bs-toggle="modal" data-bs-target="#loginModal">
        <i class="bi bi-box-arrow-in-right"></i> Iniciar sesi贸n
      </button>

      <!-- Bot贸n pedidos (solo clientes) -->
      <button class="btn btn-dark" id="btn-pedidos" hidden>
        <i class="bi bi-bag"></i> Tus pedidos
      </button>

      <!-- Bot贸n carrito (solo clientes) -->
      <button class="btn btn-warning position-relative" id="btn-carrito" hidden 
              data-bs-toggle="offcanvas" data-bs-target="#offcanvasCarrito" aria-controls="offcanvasCarrito">
        <i class="bi bi-cart"></i>
        <!-- Contador rojo (oculto por defecto) -->
        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger" 
              id="cart-count" hidden>
          0
        </span>
      </button>

      <!-- Bot贸n panel admin -->
      <button class="btn btn-danger" id="btn-admin" hidden>
        <i class="bi bi-gear-fill"></i> Panel Admin
      </button>

      <!-- Bot贸n logout -->
      <button class="btn btn-secondary" id="btn-logout" hidden>
        <i class="bi bi-box-arrow-right"></i> Cerrar sesi贸n
      </button>
    </div>
        </div> <!-- cierre d-flex gap-2 -->
  </div> <!-- cierre container-fluid -->
</nav> <!-- cierre navbar -->



<!-- =================== CARRUSEL HERO =================== -->

<div id="heroCarousel" class="carousel slide mb-4" data-bs-ride="carousel">

  <!-- Indicadores (puntitos abajo) -->
  <div class="carousel-indicators">
    <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="0" class="active"></button>
    <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="1"></button>
    <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="2"></button>
  </div>

  <!-- Slides -->
  <div class="carousel-inner">

    <!-- Slide 1 -->
    <div class="carousel-item active">
      <img src="Recursos_Esteticos/img/hero1.jpg" class="d-block w-100" alt="Promo 1">
      <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded p-2">
        <h5>隆Pepperoni a precio vecino!</h5>
        <p>Solo por hoy. Pide y retira en tienda.</p>
        <a href="#promos" class="btn btn-danger">Ver promos</a>
      </div>
    </div>

    <!-- Slide 2 -->
    <div class="carousel-item">
      <img src="Recursos_Esteticos/img/hero2.jpg" class="d-block w-100" alt="Promo 2">
      <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded p-2">
        <h5>Nuevo Panini Caprese</h5>
        <p>Mozzarella, tomate, pesto y albahaca.</p>
        <a href="#menu" class="btn btn-danger">Ir al men煤</a>
      </div>
    </div>

    <!-- Slide 3 -->
    <div class="carousel-item">
      <img src="Recursos_Esteticos/img/hero3.jpg" class="d-block w-100" alt="Promo 3">
      <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded p-2">
        <h5>Combo Baguette + Bebida</h5>
        <p>Para llevar y compartir.</p>
        <a href="#promos" class="btn btn-danger">Aprovechar</a>
      </div>
    </div>

  </div>

  <!-- Controles (flechas) -->
  <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
    <span class="carousel-control-prev-icon"></span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
    <span class="carousel-control-next-icon"></span>
  </button>
</div>

<!-- =================== SECCIN PROMOCIONES =================== -->

<section id="promos" class="container-fluid my-5"> 
  <!-- 
  <section>: agrupa contenido relacionado, en este caso toda la secci贸n de promociones
  id="promos": Le da un identificador general a esta seccion
  class="container-fluid my-5": usa clases de Bootstrap para un contenedor que ocupa todo el ancho y tiene margen vertical
  -->

  <!-- TITULO DE LA SECCION -->
  <!-- "text-start": usa bootstrap para alinear texto a la izquierda
        "fw-bold": texto en negrita
        "style": estilos CSS directos para color y fuente
  -->
  <h2 class="text-start fw-bold" style="color:#e6b800; font-family:'Oswald', sans-serif;">
    PROMOCIONES
  </h2>

<!-- Grid para dividir la pantala segun el disositivo en 5 columnas-->
  <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-5 g-4 mt-3">

  <!-- Bot贸n agregar producto (solo visible para admin) -->
  <!--"hidden" deja este boton invisible de entrada, despues en el bloque de JS definimos que lo muestre solo si el rol es de admin-->
  <div class="text-center my-3" id="btn-add-promo" hidden>
    <button class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#modalAddProduct" data-category="promo"><!--Un boton rojo que abre un modal con id=modalAddProduct y que es de la categoria de "promos"-->
      <i class="bi bi-plus-circle"></i> Agregar producto
    </button>
  </div>
        <!-- Card de la promo 1 -->
        <div class="col">
          <div class="card h-100 rounded-4">
            <!-- Imagen -->
            <div class="card-img-top bg-dark rounded-top-4" style="height:180px; background:url('Recursos_Esteticos/img/producto1.jpg') center/cover;">
            </div>

            <!-- Cuerpo de la card -->
            <div class="card-body text-center" style="background-color:#e6b800; border-radius:0 0 1rem 1rem;">
              <h5 class="card-title fw-bold text-dark">Producto1</h5>
              <p class="card-text text-dark">Descripci贸n del producto</p>
              <p class="fw-bold text-dark">$4.990</p>

              <!-- Bot贸n cliente -->
              <button class="btn btn-light text-dark fw-bold"
                      onclick="agregarAlCarrito('Producto1', 4990, 'Recursos_Esteticos/img/producto1.jpg')">
                Agregar al carrito
              </button>

      <!-- Botones admin -->
      <div class="mt-2 justify-content-center gap-2 admin-actions" hidden>
        <button class="btn btn-sm btn-outline-light btn-edit" data-category="promo">Editar</button>
        <button class="btn btn-sm btn-outline-danger btn-delete" data-category="promo">Eliminar</button>
      </div>
    </div>
  </div>
</div>


        <!-- Botones solo para admin -->
        <div class="mt-2 justify-content-center gap-2 admin-actions" hidden>
          <button class="btn btn-sm btn-outline-light btn-edit" data-category="promo">Editar</button>
          <button class="btn btn-sm btn-outline-danger btn-delete" data-category="promo">Eliminar</button>
        </div>
      </div>
    </div>
  </div>



<!-- Modal gen茅rico para agregar/editar productos -->
<div class="modal fade" id="modalAddProduct" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content bg-dark text-light rounded-4">
      <div class="modal-header border-0">
        <h5 class="modal-title" id="modalProductTitle">Agregar producto</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>
      <div class="modal-body">
        <form id="productForm">
          <input type="hidden" id="productCategory">
          <input type="hidden" id="editIndex">

          <div class="mb-3">
            <label class="form-label">Nombre del producto</label>
            <input type="text" class="form-control" id="productName" required>
          </div>
          <div class="mb-3">
            <label class="form-label">Descripci贸n</label>
            <textarea class="form-control" id="productDesc" rows="2" required></textarea>
          </div>
          <div class="mb-3">
            <label class="form-label">Precio</label>
            <input type="number" class="form-control" id="productPrice" required>
          </div>
          <div class="mb-3">
            <label class="form-label">Foto (URL por ahora)</label>
            <input type="text" class="form-control" id="productImg" placeholder="Recursos_Esteticos/img/producto.jpg">
          </div>

          <button type="submit" class="btn btn-warning fw-bold w-100">Guardar</button>
        </form>
      </div>
    </div>
  </div>
</div>

</div>

<!-- =================== CARRITO =================== -->
<div class="offcanvas offcanvas-end bg-dark text-light" tabindex="-1" id="offcanvasCarrito" aria-labelledby="offcanvasCarritoLabel">
  <div class="offcanvas-header border-bottom">
    <h5 class="offcanvas-title fw-bold" id="offcanvasCarritoLabel" style="color:#e6b800;">
      Carrito de Compras
    </h5>
    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Cerrar"></button>
  </div>
  
  <div class="offcanvas-body d-flex flex-column">
    <!-- Lista de productos -->
    <div id="carrito-items" class="flex-grow-1">
      <!-- Aqu铆 se insertan los productos din谩micamente con JS -->
      <p class="text-center text-muted mt-5" id="carrito-vacio">Tu carrito est谩 vac铆o</p>
    </div>

    <!-- Subtotal y botones -->
    <div class="border-top pt-3">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h5 class="fw-bold" style="color:#e6b800;">Subtotal</h5>
        <h5 id="carrito-total" class="fw-bold">$0</h5>
      </div>
      <div class="d-grid gap-2">
        <button class="btn btn-outline-light fw-bold" id="btn-vaciar">Vaciar carrito</button>
        <button class="btn btn-danger fw-bold">Hacer pedido</button>
      </div>
    </div>
  </div>
</div>


<!-- =================== MODAL LOGIN =================== -->
<div class="modal fade" id="loginModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered"> <!-- modal m谩s ancho -->
    <div class="modal-content bg-dark text-light rounded-4">
      <div class="modal-header border-0">
        <h5 class="modal-title">Acceso a Bocatto</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>
      <div class="modal-body">
        <div class="row">
          
          <!-- Columna Crear cuenta -->
          <div class="col-md-6 border-end">
            <h6 class="fw-bold mb-3">驴Nuevo aqu铆?</h6>
            <p class="small">Crea una cuenta para acceder a promociones y seguimiento de pedidos.</p>
            <form id="registerForm">
              <button type="submit" class="btn btn-outline-warning w-100">Crear cuenta</button>
            </form>
          </div>

          <!-- Columna Iniciar sesi贸n -->
          <div class="col-md-6">
            <h6 class="fw-bold mb-3">驴Ya tienes cuenta?</h6>
            <form id="loginForm">
              <div class="mb-3">
                <label for="loginEmail" class="form-label">Correo electr贸nico</label>
                <input type="email" class="form-control" id="loginEmail" required>
              </div>
              <div class="mb-3">
                <label for="loginPass" class="form-label">Contrase帽a</label>
                <input type="password" class="form-control" id="loginPass" required>
              </div>
              <button type="submit" class="btn btn-warning w-100">Iniciar sesi贸n</button>
            </form>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>


<!-- =================== OFFCANVAS CARRITO DE COMPRAS =================== -->

<div class="offcanvas offcanvas-end bg-dark text-light" tabindex="-1" id="offcanvasCarrito" aria-labelledby="offcanvasCarritoLabel">
  <div class="offcanvas-header border-bottom">
    <h5 class="offcanvas-title fw-bold" id="offcanvasCarritoLabel" style="color:#e6b800;">Carrito de Compras</h5>
    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Cerrar"></button>
  </div>
  <div class="offcanvas-body d-flex flex-column">
    <div id="carrito-items" class="flex-grow-1">
      <p class="text-center text-muted mt-5" id="carrito-vacio">Tu carrito est谩 vac铆o</p>
    </div>
    <div class="border-top pt-3">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h5 class="fw-bold" style="color:#e6b800;">Subtotal</h5>
        <h5 id="carrito-total" class="fw-bold">$0</h5>
      </div>
      <div class="d-grid gap-2">
        <button class="btn btn-outline-light fw-bold" id="btn-vaciar">Vaciar carrito</button>
       <!--<button class="btn btn-danger fw-bold">Hacer pedido</button>-->
       <a id="btn-hacer-pedido" class="btn btn-danger fw-bold">Hacer pedido</a>
      </div>
    </div>
  </div>
</div>
  <!-- Bootstrap JS (para que funcione el carrusel y el navbar en m贸viles) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script src="js/app.js?v=4" defer></script>

</body>
</html>